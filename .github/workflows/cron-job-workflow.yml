name: Cron Job Workflow

on:
  schedule:
    - cron: '*/5 * * * *'  # Runs every 5 minutes

jobs:
  cron-job-cicd:
  runs-on: ubuntu-latest

  steps:
    - name: Cron Job Step
      run: echo "This workflow runs every 5 minutes as per the cron schedule."

    - name: Send Email On Success
      uses: dawidd6/action-send-mail@v3
      with:
        server_address: smtp.gmail.com
        server_port: ${{ secrets.MAIL_PORT }}
        username: ${{ secrets.MAIL_TO }}
        password: ${{ secrets.MAIL_PASSWORD }}
        subject: "Cron Job Workflow Succeeded"
        to: "nizamuddinnayeem22@gmail.com"
        from: "Deploy Bot <${{ secrets.MAIL_FROM }}>"
        body: |
          Hello,

          This is to inform you that the cron job workflow has completed successfully.

          Best regards,
          Your DevOps Team